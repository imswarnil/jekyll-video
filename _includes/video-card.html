{% assign video_data = include.video %}
{% assign is_trending = include.trending | default: video_data.trending %}

<a href="{{ video_data.url | relative_url }}" class="video-video-card">
    <article class="video-video-card__inner">
        <div class="video-video-card__thumbnail">
            {% if video_data.image %}
                <img src="{{ video_data.image | relative_url }}" alt="{{ video_data.title | escape }}" class="video-video-card__image" loading="lazy">
            {% elsif video_data.video_type == 'youtube' and video_data.video_id %}
                <img src="https://img.youtube.com/vi/{{ video_data.video_id }}/maxresdefault.jpg" alt="{{ video_data.title | escape }}" class="video-video-card__image" loading="lazy">
            {% else %}
                <img src="{{ '/assets/images/video-placeholder.jpg' | relative_url }}" alt="" class="video-video-card__image"> {# Empty alt for placeholder #}
            {% endif %}

            {% if video_data.duration %}
                <div class="video-video-card__overlay">{{ video_data.duration }}</div>
            {% endif %}

            {% if is_trending == true %}
                <div class="video-video-card__overlay--top-left">
                    <svg class="video-video-card__overlay-icon video-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"></path></svg>
                    Trending
                </div>
            {% endif %}
        </div>
        <div class="video-video-card__info">
            <h3 class="video-video-card__title">{{ video_data.title | default: "Untitled Video" | escape }}</h3>
            <div class="video-video-card__meta">
                {% if video_data.views %}<span>{{ video_data.views }} views</span>{% endif %}
                {% if video_data.views and video_data.date %}<span class="video-video-card__meta-separator">â€¢</span>{% endif %}
                {% if video_data.date %}<time datetime="{{ video_data.date | date_to_xmlschema }}">{{ video_data.date | date: site.date_format | default: "%b %d, %Y" }}</time>{% endif %}
            </div>
        </div>
    </article>
</a>